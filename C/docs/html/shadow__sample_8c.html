<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AWSIoTEmbeddedCDeviceSDK: shadow_sample.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>shadow_sample.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>A simple connected window example demonstrating the use of Thing Shadow.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;memory.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="aws__iot__log_8h_source.html">aws_iot_log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="aws__iot__version_8h_source.html">aws_iot_version.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="aws__iot__shadow__interface_8h_source.html">aws_iot_shadow_interface.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="aws__iot__shadow__json__data_8h_source.html">aws_iot_shadow_json_data.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="aws__iot__config_8h_source.html">aws_iot_config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="aws__iot__mqtt__interface_8h_source.html">aws_iot_mqtt_interface.h</a>&quot;</code><br/>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shadow__sample_8c.html#a6dbd1724187439bfaa80cafa7517cdfd">ROOMTEMPERATURE_UPPERLIMIT</a>&#160;&#160;&#160;32.0f</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad36aa0f5654f5aa982080d7dec2f150"></a><!-- doxytag: member="shadow_sample.c::ROOMTEMPERATURE_LOWERLIMIT" ref="aad36aa0f5654f5aa982080d7dec2f150" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROOMTEMPERATURE_LOWERLIMIT</b>&#160;&#160;&#160;25.0f</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44e6443f66e95b1837b9332e549b0796"></a><!-- doxytag: member="shadow_sample.c::STARTING_ROOMTEMPERATURE" ref="a44e6443f66e95b1837b9332e549b0796" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>STARTING_ROOMTEMPERATURE</b>&#160;&#160;&#160;ROOMTEMPERATURE_LOWERLIMIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3618839af2640c1a3b2112a62e3d3867"></a><!-- doxytag: member="shadow_sample.c::MAX_LENGTH_OF_UPDATE_JSON_BUFFER" ref="a3618839af2640c1a3b2112a62e3d3867" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_LENGTH_OF_UPDATE_JSON_BUFFER</b>&#160;&#160;&#160;200</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7558615133e9df9a915675a12cab6ff4"></a><!-- doxytag: member="shadow_sample.c::ShadowUpdateStatusCallback" ref="a7558615133e9df9a915675a12cab6ff4" args="(const char *pThingName, ShadowActions_t action, Shadow_Ack_Status_t status, const char *pReceivedJsonDocument, void *pContextData)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>ShadowUpdateStatusCallback</b> (const char *pThingName, <a class="el" href="aws__iot__shadow__interface_8h.html#a1fc9e025434023d44d33737f8b7c2a8c">ShadowActions_t</a> action, <a class="el" href="aws__iot__shadow__interface_8h.html#ad946163c2ac5df0aa896520949d47956">Shadow_Ack_Status_t</a> status, const char *pReceivedJsonDocument, void *pContextData)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b5422d39eab6f9e7dee85e6cbb73635"></a><!-- doxytag: member="shadow_sample.c::windowActuate_Callback" ref="a9b5422d39eab6f9e7dee85e6cbb73635" args="(const char *pJsonString, uint32_t JsonStringDataLen, jsonStruct_t *pContext)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>windowActuate_Callback</b> (const char *pJsonString, uint32_t JsonStringDataLen, <a class="el" href="structjsonStruct.html">jsonStruct_t</a> *pContext)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28eab4b612aa32ddd89326949dca9538"></a><!-- doxytag: member="shadow_sample.c::parseInputArgsForConnectParams" ref="a28eab4b612aa32ddd89326949dca9538" args="(int argc, char **argv)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>parseInputArgsForConnectParams</b> (int argc, char **argv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a><!-- doxytag: member="shadow_sample.c::main" ref="a3c04138a5bfe5d72780bb7e82a18e627" args="(int argc, char **argv)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char **argv)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0d9ab8c8f3ba0b4a3dd629f20950ff2"></a><!-- doxytag: member="shadow_sample.c::certDirectory" ref="ad0d9ab8c8f3ba0b4a3dd629f20950ff2" args="[PATH_MAX+1]" -->
char&#160;</td><td class="memItemRight" valign="bottom"><b>certDirectory</b> [PATH_MAX+1] = &quot;../../certs&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76f8e71d1d244043e57787fc33ea0c21"></a><!-- doxytag: member="shadow_sample.c::HostAddress" ref="a76f8e71d1d244043e57787fc33ea0c21" args="[255]" -->
char&#160;</td><td class="memItemRight" valign="bottom"><b>HostAddress</b> [255] = AWS_IOT_MQTT_HOST</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83a04ad582de2b7d36b96f9db429c2c6"></a><!-- doxytag: member="shadow_sample.c::port" ref="a83a04ad582de2b7d36b96f9db429c2c6" args="" -->
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>port</b> = AWS_IOT_MQTT_PORT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a624468032913e496e0d7bb16a6c11c30"></a><!-- doxytag: member="shadow_sample.c::numPubs" ref="a624468032913e496e0d7bb16a6c11c30" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>numPubs</b> = 5</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a6dbd1724187439bfaa80cafa7517cdfd"></a><!-- doxytag: member="shadow_sample.c::ROOMTEMPERATURE_UPPERLIMIT" ref="a6dbd1724187439bfaa80cafa7517cdfd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROOMTEMPERATURE_UPPERLIMIT&#160;&#160;&#160;32.0f</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The goal of this sample application is to demonstrate the capabilities of shadow. This device(say Connected Window) will open the window of a room based on temperature It can report to the Shadow the following parameters: 1. temperature of the room (double) 2. status of the window (open or close) It can act on commands from the cloud. In this case it will open or close the window based on the json object "windowOpen" data[open/close]</p>
<p>The two variables from a device's perspective are double temperature and bool windowOpen The device needs to act on only on windowOpen variable, so we will create a primitiveJson_t object with callback The Json Document in the cloud will be { "reported": { "temperature": 0, "windowOpen": false }, "desired": { "windowOpen": false } } </p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Oct 21 2015 16:59:44 for AWSIoTEmbeddedCDeviceSDK by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
